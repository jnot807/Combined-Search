<!DOCTYPE HTML>
<html>
<head>
  <title>Competitor Search (JSON API)</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="assets/css/main.css" />
  <style>
    body {
      background-color: #0f0f0f;
      color: white;
      font-family: sans-serif;
      padding: 2rem;
    }
    .json-search-box {
      background: #1a1a1a;
      padding: 1.5rem;
      border-radius: 12px;
      margin-bottom: 2rem;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      max-width: 700px;
    }
    .json-search-box input,
    .json-search-box select,
    .json-search-box button {
      padding: 0.8rem;
      border-radius: 8px;
      border: none;
      font-size: 1rem;
    }
    .json-search-box input,
    .json-search-box select {
      background: #2a2a2a;
      color: white;
    }
    .json-search-box button {
      background: #333;
      color: white;
      cursor: pointer;
    }
    #jsonResults ul {
      list-style: none;
      padding-left: 0;
    }
    #jsonResults li {
      margin-bottom: 1rem;
    }
    #jsonResults a {
      color: #4ac3ff;
      text-decoration: none;
    }
    #jsonResults a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>

<h2>ðŸ”Ž Competitor LinkedIn Search (JSON API)</h2>
<div class="json-search-box">
  <input type="text" id="company" placeholder="Enter company name (e.g. NestlÃ©)" />
  <select id="countrySite">
    <option value="">-- Select LinkedIn Country --</option>
    <option value="ae.linkedin.com/in">UAE</option>
    <option value="co.linkedin.com/in">Colombia</option>
    <option value="nz.linkedin.com/in">New Zealand</option>
    <option value="za.linkedin.com/in">South Africa</option>
    <option value="vn.linkedin.com/in">Vietnam</option>
    <option value="us.linkedin.com/in">United States</option>
    <option value="sg.linkedin.com/in">Singapore</option>
    <option value="sa.linkedin.com/in">Saudi Arabia</option>
    <option value="ph.linkedin.com/in">Philippines</option>
    <option value="ng.linkedin.com/in">Nigeria</option>
    <option value="my.linkedin.com/in">Malaysia</option>
    <option value="mx.linkedin.com/in">Mexico</option>
    <option value="kr.linkedin.com/in">South Korea</option>
    <option value="jp.linkedin.com/in">Japan</option>
    <option value="in.linkedin.com/in">India</option>
    <option value="hk.linkedin.com/in">Hong Kong</option>
    <option value="eg.linkedin.com/in">Egypt</option>
    <option value="cl.linkedin.com/in">Chile</option>
    <option value="ca.linkedin.com/in">Canada</option>
    <option value="ar.linkedin.com/in">Argentina</option>
    <option value="au.linkedin.com/in">Australia</option>
    <option value="ch.linkedin.com/in">Switzerland</option>
    <option value="se.linkedin.com/in">Sweden</option>
    <option value="si.linkedin.com/in">Slovenia</option>
    <option value="sk.linkedin.com/in">Slovakia</option>
    <option value="ro.linkedin.com/in">Romania</option>
    <option value="pt.linkedin.com/in">Portugal</option>
    <option value="no.linkedin.com/in">Norway</option>
    <option value="mt.linkedin.com/in">Malta</option>
    <option value="lu.linkedin.com/in">Luxembourg</option>
    <option value="lt.linkedin.com/in">Lithuania</option>
    <option value="lv.linkedin.com/in">Latvia</option>
    <option value="ie.linkedin.com/in">Ireland</option>
    <option value="is.linkedin.com/in">Iceland</option>
    <option value="fi.linkedin.com/in">Finland</option>
    <option value="cy.linkedin.com/in">Cyprus</option>
    <option value="ee.linkedin.com/in">Estonia</option>
    <option value="gr.linkedin.com/in">Greece</option>
    <option value="cz.linkedin.com/in">Czech Republic</option>
    <option value="hu.linkedin.com/in">Hungary</option>
    <option value="it.linkedin.com/in">Italy</option>
    <option value="pl.linkedin.com/in">Poland</option>
    <option value="bg.linkedin.com/in">Bulgaria</option>
    <option value="at.linkedin.com/in">Austria</option>
    <option value="fr.linkedin.com/in">France</option>
    <option value="uk.linkedin.com/in">United Kingdom</option>
    <option value="de.linkedin.com/in">Germany</option>
    <option value="es.linkedin.com/in">Spain</option>
    <option value="dk.linkedin.com/in">Denmark</option>
    <option value="nl.linkedin.com/in">Netherlands</option>
    <option value="br.linkedin.com/in">Brazil</option>
    <option value="linkedin.com/in">Global</option>
  </select>
  <button onclick="runCompetitorSearch()">Search</button>
</div>

<div id="jsonResults"></div>

<script>
const API_KEY = "AIzaSyDEEQi0TYf-2ULYA0G2Q6x1JHWH4NUrok8";
const CX = "6742cda52f2e045d2";

async function runCompetitorSearch() {
  const company = document.getElementById("company").value.trim();
  const countrySite = document.getElementById("countrySite").value;

  let fullQuery = "";

  if (countrySite) fullQuery += `site:${countrySite} `;
  if (company) fullQuery += `intitle:\"${company}\"`;

  if (!fullQuery) {
    alert("Please enter a company or select a country");
    return;
  }

  const response = await fetch(`https://www.googleapis.com/customsearch/v1?key=${API_KEY}&cx=${CX}&q=${encodeURIComponent(fullQuery)}`);
  const data = await response.json();

  const resultsDiv = document.getElementById("jsonResults");
  resultsDiv.innerHTML = "<h3>Search Results</h3><ul>";

  if (data.items) {
    data.items.forEach(item => {
      resultsDiv.innerHTML += `<li><a href="${item.link}" target="_blank">${item.title}</a><br>${item.snippet}</li>`;
    });
  } else {
    resultsDiv.innerHTML += "<li>No results found.</li>";
  }

  resultsDiv.innerHTML += "</ul>";
}
</script>

</body>
</html>
